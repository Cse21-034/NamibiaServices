# Namibia Services - Environment Variables Reference

## üöÄ QUICK START - Copy & Paste Template

Copy this entire block and save as `.env.local` in your project root:

```env
# ============================================================
# NAMIBIA SERVICES - ENVIRONMENT VARIABLES
# ============================================================

# ========== DATABASE (PostgreSQL) - REQUIRED ==========
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/namibia_services
DIRECT_URL=postgresql://user:password@localhost:5432/namibia_services

# ========== AUTHENTICATION (NextAuth.js) - REQUIRED ==========
# Generate secret: openssl rand -base64 32
NEXTAUTH_SECRET=your-generated-secret-key-32-characters-long
NEXTAUTH_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ========== OAUTH PROVIDERS - OPTIONAL ==========
# Get from Google Cloud Console
GOOGLE_ID=
GOOGLE_SECRET=

# Get from Facebook Developers
FACEBOOK_ID=
FACEBOOK_SECRET=

# ========== EMAIL SERVICE (Resend) - RECOMMENDED ==========
# Get API key from https://resend.com
RESEND_API_KEY=

# ========== IMAGE HOSTING (Cloudinary) - RECOMMENDED ==========
# Get credentials from https://cloudinary.com
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_FOLDER=namibia-services

# ========== RATE LIMITING (Upstash Redis) - OPTIONAL ==========
# Get from https://upstash.com
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ========== BACKEND SERVICES (Supabase) - OPTIONAL ==========
# Get from https://supabase.com
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
```

---

## üìã PRODUCTION ENVIRONMENT VARIABLES

For production deployment, update these values:

```env
# Database - Use production database URL
DATABASE_URL=postgresql://prod_user:strong_password@prod-host.com:5432/namibia_prod
DIRECT_URL=postgresql://prod_user:strong_password@prod-host.com:5432/namibia_prod

# Authentication - Use production domain
NEXTAUTH_SECRET=your-generated-secret-for-production
NEXTAUTH_URL=https://namibiaservices.com
NEXT_PUBLIC_APP_URL=https://namibiaservices.com

# OAuth - Use production credentials
GOOGLE_ID=production-google-id
GOOGLE_SECRET=production-google-secret

FACEBOOK_ID=production-facebook-id
FACEBOOK_SECRET=production-facebook-secret

# Email
RESEND_API_KEY=production-resend-key

# Images
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=production-cloud-name
CLOUDINARY_API_KEY=production-api-key
CLOUDINARY_API_SECRET=production-api-secret

# Redis
UPSTASH_REDIS_REST_URL=https://production-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=production-token

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://production-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=production-anon-key
```

---

## üîê IMPORTANT SECURITY NOTES

### Never commit .env.local to version control!

Add to `.gitignore`:
```
.env
.env.local
.env.*.local
```

### Generate Secure NEXTAUTH_SECRET

```bash
# On Windows PowerShell:
$bytes = New-Object Byte[] 32
$rng = [System.Security.Cryptography.RNGCryptoServiceProvider]::new()
$rng.GetBytes($bytes)
[Convert]::ToBase64String($bytes)

# On Mac/Linux:
openssl rand -base64 32
```

### Protect Sensitive Data

- Use different secrets for dev and production
- Rotate secrets regularly
- Use environment management tools for production
- Don't share credentials in code or emails

---

## üîó WHERE TO GET EACH CREDENTIAL

### PostgreSQL Database
- **Local:** Install PostgreSQL locally
- **Heroku:** `heroku addons:create heroku-postgresql`
- **AWS RDS:** https://console.aws.amazon.com
- **DigitalOcean:** https://www.digitalocean.com/products/managed-databases
- **Vercel:** https://vercel.com/docs/storage/postgres
- **Railway:** https://railway.app

### Google OAuth
1. Go to https://console.cloud.google.com
2. Create new project
3. Enable "Google+ API"
4. Create OAuth 2.0 credentials (Web application)
5. Add authorized redirect URI: `http://localhost:3000/api/auth/callback/google`
6. Copy Client ID & Secret

### Facebook OAuth
1. Go to https://developers.facebook.com
2. Create app
3. Add "Facebook Login" product
4. Configure OAuth redirect URI: `http://localhost:3000/api/auth/callback/facebook`
5. Get App ID & Secret

### Resend Email
1. Go to https://resend.com
2. Sign up
3. Get API key from dashboard
4. Verify sender email

### Cloudinary Images
1. Go to https://cloudinary.com
2. Create account
3. Get Cloud Name from dashboard
4. Generate API Key & Secret

### Upstash Redis
1. Go to https://upstash.com
2. Create Redis database
3. Get REST URL & Token

---

## üß™ VERIFY ENVIRONMENT SETUP

Run this to check if environment is configured:

```bash
# Check if .env.local exists
ls -la .env.local

# Verify DATABASE_URL
echo $DATABASE_URL

# Verify NEXTAUTH_SECRET exists
echo $NEXTAUTH_SECRET

# Run Prisma validation
npx prisma validate
```

---

## üìä ENVIRONMENT CHECKLIST

**Required for basic functionality:**
- [ ] DATABASE_URL
- [ ] DIRECT_URL
- [ ] NEXTAUTH_SECRET
- [ ] NEXTAUTH_URL

**Recommended:**
- [ ] GOOGLE_ID & GOOGLE_SECRET
- [ ] FACEBOOK_ID & FACEBOOK_SECRET
- [ ] RESEND_API_KEY

**Optional but useful:**
- [ ] CLOUDINARY credentials
- [ ] UPSTASH_REDIS credentials
- [ ] SUPABASE credentials

---

## üöÄ DEPLOYMENT-SPECIFIC SETTINGS

### Vercel
```env
NEXTAUTH_URL=https://your-app.vercel.app
```

### Heroku
```env
NEXTAUTH_URL=https://your-app.herokuapp.com
```

### Custom Domain
```env
NEXTAUTH_URL=https://namibiaservices.com
```

---

## ‚ö†Ô∏è TROUBLESHOOTING

**Error: "DATABASE_URL not found"**
- Check `.env.local` exists in project root
- Restart dev server: `pnpm dev`

**Error: "NEXTAUTH_SECRET not set"**
- Generate new secret: `openssl rand -base64 32`
- Add to `.env.local`

**Error: "Connection refused"**
- Verify database is running
- Check DATABASE_URL format
- Test connection: `psql $DATABASE_URL`

**Error: "OAuth failed"**
- Verify credentials are correct
- Check redirect URLs match configuration
- Test in incognito window

---

**Last Updated:** January 16, 2026
